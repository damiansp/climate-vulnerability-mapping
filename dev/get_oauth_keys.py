import json

from twython import Twython


KEYS = 'config/keys.json'


def main():
    print('Starting test...')
    keys = get_keys()
    twitter = Twython(*keys)
    auth = twitter.get_authentication_tokens(
        'https://www.climate-vulnerability-mapping.com')
    OAUTH_TOKEN = auth['oauth_token']
    OAUTH_TOKEN_SECRET = auth['oauth_token_secret']
    print(OAUTH_TOKEN, OAUTH_TOKEN_SECRET)


def get_keys():
    with open(KEYS, 'r') as f:
        keys = json.load(f)['twitter']
    APP_KEY = keys['apiKey']
    APP_SECRET = keys['apiKeySecret']
    return APP_KEY, APP_SECRET
        
        
if __name__ == '__main__':
    main()
